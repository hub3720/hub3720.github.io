<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pokedex</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #fff;
  }

  .search-container {
    display: flex;
    justify-content: center;
    padding: 20px;
  }

  .search-container input {
    width: 90%;
    max-width: 500px;
    padding: 10px 15px;
    border: 2px solid #000;
    border-radius: 25px;
    font-size: 16px;
    outline: none;
  }

  .pokemon-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    padding: 10px;
  }

  .pokemon-card {
    width: 150px;
    height: 200px;
    border-radius: 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    color: #fff;
    font-weight: bold;
    text-align: center;
    transition: transform 0.2s;
  }

  .pokemon-card:hover {
    transform: scale(1.05);
  }

  .pokemon-card img {
    width: 100px;
    height: 100px;
    margin-top: 10px;
  }

  .pokemon-number {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 14px;
  }

  .pokemon-types {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 5px;
  }

  .pokemon-type-img {
    width: 25px;
    height: 25px;
  }

  @media (max-width: 600px) {
    .pokemon-card {
      width: 120px;
      height: 170px;
    }

    .pokemon-card img {
      width: 80px;
      height: 80px;
    }
  }
</style>
</head>
<body>

<div class="search-container">
  <input type="text" id="search" placeholder="Digite o nome do Pokémon...">
</div>

<div class="pokemon-container" id="pokemon-container">
  <!-- Cards serão inseridos aqui -->
</div>

<script>
const container = document.getElementById('pokemon-container');
const searchInput = document.getElementById('search');
const totalPokemons = 150; // Começamos com 150 para não travar a página
const allPokemons = []; // cache de Pokémon carregados

const typeColors = {
  normal: "#A8A77A",
  fire: "#EE8130",
  water: "#6390F0",
  electric: "#F7D02C",
  grass: "#7AC74C",
  ice: "#96D9D6",
  fighting: "#C22E28",
  poison: "#A33EA1",
  ground: "#E2BF65",
  flying: "#A98FF3",
  psychic: "#F95587",
  bug: "#A6B91A",
  rock: "#B6A136",
  ghost: "#735797",
  dragon: "#6F35FC",
  dark: "#705746",
  steel: "#B7B7CE",
  fairy: "#D685AD"
};

// Busca Pokémon pelo ID
async function fetchPokemon(id) {
  try {
    const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
    const data = await res.json();
    return data;
  } catch (err) {
    console.error(err);
  }
}

// Cria card do Pokémon
function createPokemonCard(pokemon) {
  const card = document.createElement('div');
  const primaryType = pokemon.types[0].type.name;
  card.classList.add('pokemon-card');
  card.style.backgroundColor = typeColors[primaryType] || "#777";

  const number = document.createElement('div');
  number.classList.add('pokemon-number');
  number.textContent = `#${pokemon.id.toString().padStart(3,'0')}`;
  card.appendChild(number);

  const typesContainer = document.createElement('div');
  typesContainer.classList.add('pokemon-types');
  pokemon.types.forEach(t => {
    const img = document.createElement('img');
    img.src = `https://raw.githubusercontent.com/duiker101/pokemon-type-svg-icons/master/icons/${t.type.name}.svg`;
    img.classList.add('pokemon-type-img');
    typesContainer.appendChild(img);
  });
  card.appendChild(typesContainer);

  const img = document.createElement('img');
  img.src = pokemon.sprites.other['official-artwork'].front_default;
  img.alt = pokemon.name;
  card.appendChild(img);

  const name = document.createElement('div');
  name.textContent = pokemon.name;
  card.appendChild(name);

  container.appendChild(card);
}

// Carrega Pokémon com delay gradual
async function loadPokemons() {
  for (let i = 1; i <= totalPokemons; i++) {
    const pokemon = await fetchPokemon(i);
    allPokemons.push(pokemon);
    createPokemonCard(pokemon);
    await new Promise(res => setTimeout(res, 30)); // efeito visual clássico
  }
}

// Busca Pokémon no cache
searchInput.addEventListener('input', () => {
  const value = searchInput.value.toLowerCase();
  container.innerHTML = '';
  allPokemons
    .filter(p => p.name.includes(value))
    .forEach(p => createPokemonCard(p));
});

// Inicializa a Pokédex
loadPokemons();
</script>

</body>
 </html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pokedex Geração 1-3</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background-color:#fff; overflow-x:hidden; }

.search-container { display:flex; justify-content:center; padding:20px; }
.search-container input { width:90%; max-width:500px; padding:10px 15px; border:2px solid #000; border-radius:25px; font-size:16px; outline:none; }

.pokemon-container {
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap:15px;
  padding:10px;
}

.pokemon-card { width:100%; height:120px; border-radius:15px; display:flex; align-items:center; position:relative; color:#fff; font-weight:bold; text-align:center; padding-left:10px; box-sizing:border-box; opacity:0; transition:opacity 0.3s; cursor:pointer; }
.pokemon-card.show { opacity:1; }
.pokemon-card img.pokemon-img { width:100px; height:100px; margin-right:10px; }
.pokemon-number { position:absolute; top:5px; left:10px; font-size:14px; }
.pokemon-types { position:absolute; top:5px; right:25px; display:flex; gap:3px; }
.pokemon-type-img { width:15px; height:15px; }

.detail-box { position:absolute; top:5px; right:5px; padding:10px; border-radius:10px; max-width:180px; text-align:left; display:none; z-index:10; color:#fff; }
.detail-box h4 { margin:0 0 5px 0; font-size:14px; }
.detail-box p { margin:2px 0; font-size:12px; }
.close-btn { position:absolute; top:2px; right:2px; background:red; color:#fff; border:none; border-radius:50%; width:18px; height:18px; font-size:12px; cursor:pointer; }

.load-more-container { display:flex; justify-content:center; margin:20px 0; }
.load-more-btn { padding:10px 20px; font-size:16px; border-radius:25px; border:2px solid #000; cursor:pointer; background-color:#fff; }

/* SIDEBAR */
.sidebar-toggle {
  position:fixed;
  top:10px;
  left:10px;
  font-size:24px;
  cursor:pointer;
  z-index:20;
}

.sidebar {
  position:fixed;
  top:10px;
  left:-250px; /* escondida inicialmente */
  width:250px;
  height:95%;
  background:#f0f0f0;
  border:0.3cm solid #000;
  border-radius:15px;
  padding:10px;
  box-sizing:border-box;
  transition:left 0.3s;
  z-index:15;
}

.sidebar.open { left:10px; }

.sidebar button { width:100%; padding:10px; margin:5px 0; border-radius:15px; border:2px solid #000; background:#fff; cursor:pointer; font-weight:bold; }

.initials-container {
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-top:10px;
}

.pick-btn {
  margin-top:10px;
  padding:10px;
  border-radius:15px;
  border:2px solid #000;
  background:#fff;
  cursor:pointer;
  font-weight:bold;
  text-align:center;
}

.my-pokemons-container {
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-top:10px;
}

/* Mobile */
@media (max-width:600px){
  .pokemon-card { height:100px; padding-left:5px; }
  .pokemon-card img.pokemon-img { width:70px; height:70px; }
  .pokemon-type-img { width:12px; height:12px; }
  .detail-box { max-width:140px; font-size:11px; }
  .sidebar { width:200px; }
}
</style>
</head>
<body>

<!-- Botão Sidebar -->
<div class="sidebar-toggle">• • •</div>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <button id="start-btn">Start</button>
  <button id="pokedex-btn">Pokedex</button>

  <div id="initials" class="initials-container" style="display:none;"></div>
  <button id="pick-btn" class="pick-btn" style="display:none;">Pick Up</button>

  <div id="my-pokemons" class="my-pokemons-container" style="display:none;"></div>
</div>

<div class="search-container">
  <input type="text" id="search" placeholder="Digite o nome do Pokémon...">
</div>

<div class="pokemon-container" id="pokemon-container"></div>
<div class="load-more-container">
  <button id="load-more" class="load-more-btn">Carregar mais</button>
</div>

<script>
const sidebarToggle=document.querySelector('.sidebar-toggle');
const sidebar=document.getElementById('sidebar');
sidebarToggle.addEventListener('click',()=>{ sidebar.classList.toggle('open'); });

// Pokémon iniciais (exemplo: 9 primeiros de G1-G3)
const initialPokemons=[1,4,7,152,155,158,252,255,258]; // IDs dos iniciais G1-G3
const initialsContainer=document.getElementById('initials');
const pickBtn=document.getElementById('pick-btn');
let selectedPokemon=null;
const myPokemonsContainer=document.getElementById('my-pokemons');
const myPokemons=[];

// Criar cards iniciais
async function createInitialCards(){
  initialsContainer.innerHTML='';
  for(let id of initialPokemons){
    const res=await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
    const data=await res.json();
    const card=document.createElement('div');
    card.style.cursor='pointer';
    card.style.textAlign='center';
    card.style.padding='5px';
    card.style.border='2px solid #000';
    card.style.borderRadius='10px';
    card.style.backgroundColor='#fff';
    const img=document.createElement('img');
    img.src=data.sprites.other['official-artwork'].front_default;
    img.alt=data.name;
    img.style.width='70px';
    card.appendChild(img);
    const name=document.createElement('div');
    name.textContent=data.name.toUpperCase();
    card.appendChild(name);

    card.addEventListener('click',()=>{
      selectedPokemon={id:data.id,name:data.name,img:data.sprites.other['official-artwork'].front_default};
      pickBtn.style.display='block';
    });

    initialsContainer.appendChild(card);
  }
}

// Botão Start
document.getElementById('start-btn').addEventListener('click',()=>{
  initialsContainer.style.display='grid';
  pickBtn.style.display='none';
  myPokemonsContainer.style.display='none';
  createInitialCards();
});

// Botão Pick Up
pickBtn.addEventListener('click',()=>{
  if(selectedPokemon){
    myPokemons.push({ ...selectedPokemon, level:1, ivs:{hp:15,atk:15,def:15,spa:15,spd:15,spe:15} });
    updateMyPokemons();
    initialsContainer.style.display='none';
    pickBtn.style.display='none';
    selectedPokemon=null;
  }
});

// My Pokemons
// Atualizar aba My Pokemons
function updateMyPokemons(){
  myPokemonsContainer.innerHTML='';
  myPokemonsContainer.style.display='grid';
  for(let p of myPokemons){
    const card=document.createElement('div');
    card.style.border='2px solid #000';
    card.style.borderRadius='10px';
    card.style.backgroundColor='#fff';
    card.style.padding='5px';
    card.style.textAlign='center';
    card.style.cursor='pointer';
    card.textContent=`Lvl ${p.level} - ${p.name.toUpperCase()}`;

    // Ao clicar, abre o bloco de IVs
    card.addEventListener('click',()=>{ showIVs(p); });

    myPokemonsContainer.appendChild(card);
  }
}

// Função para mostrar IVs
function showIVs(pokemon){
  let detailBox=document.createElement('div');
  detailBox.style.position='fixed';
  detailBox.style.top='50%';
  detailBox.style.left='50%';
  detailBox.style.transform='translate(-50%,-50%)';
  detailBox.style.backgroundColor='#fff';
  detailBox.style.border='2px solid #000';
  detailBox.style.borderRadius='15px';
  detailBox.style.padding='10px';
  detailBox.style.zIndex='50';
  detailBox.style.textAlign='left';
  detailBox.style.width='200px';

  let title=document.createElement('h4');
  title.textContent=`${pokemon.name.toUpperCase()} (Lvl ${pokemon.level})`;
  title.style.margin='0 0 5px 0';
  detailBox.appendChild(title);

  for(let stat in pokemon.ivs){
    const p=document.createElement('p');
    p.textContent=`${stat.toUpperCase()}: ${pokemon.ivs[stat]} (${Math.round((pokemon.ivs[stat]/15)*100)}%)`;
    p.style.margin='2px 0';
    detailBox.appendChild(p);
  }

  const closeBtn=document.createElement('button');
  closeBtn.textContent='X';
  closeBtn.style.position='absolute';
  closeBtn.style.top='5px';
  closeBtn.style.right='5px';
  closeBtn.style.background='red';
  closeBtn.style.color='white';
  closeBtn.style.border='none';
  closeBtn.style.borderRadius='50%';
  closeBtn.style.width='20px';
  closeBtn.style.height='20px';
  closeBtn.style.cursor='pointer';
  closeBtn.addEventListener('click',()=>{ detailBox.remove(); });
  detailBox.appendChild(closeBtn);

  document.body.appendChild(detailBox);
}

// Botão Pokedex
document.getElementById('pokedex-btn').addEventListener('click',()=>{
  initialsContainer.style.display='none';
  pickBtn.style.display='none';
  myPokemonsContainer.style.display='none';
});

</script>
</body>
</html>
